
context_pack_version: "S1.v1"   # or S2.v1
generated_at_utc: "YYYY-MM-DDTHH:MM:SSZ"

project_profile:
  objective: "Probe research gaps on NVIDIA Blackwell GPU architecture; output an academic LaTeX proposal."
  hard_constraints:
    architecture: "NVIDIA Blackwell (include Grace-Blackwell where relevant)"
    cuda: "> 13.0  (e.g., 13.1+)"
    ptx: "> 9.0    (strictly greater than 9.0)"
    required_sources_each_run: [ARCH_BW, OPT_PIPE, NV_BLOG_TILE, SEED_1, SEED_2, SEED_3]
  writing_constraints:
    latex_style: "academic"
    output_split: ">= 9 LaTeX parts (recommended); each LaTeX run emits exactly 1 part"
    citation_policy: "no uncited non-trivial claims; mark UNVERIFIED if not in sources"
  scope_boundaries:
    include: ["TMEM/Tensor Memory", "Tensor Core pipelines", "TMA/data movement", "compiler IR (Triton/TileIR/CuTile)", "scheduling (SWP/WS/CTA)", "layout abstractions"]
    exclude: ["marketing-only claims without evidence", "non-Blackwell architectures except as comparison"]

golden_sources:
  ARCH_BW: {url: "...", tier: "tier_1_insight"}
  OPT_PIPE: {url: "...", tier: "tier_1_insight"}
  NV_BLOG_TILE: {url: "...", tier: "tier_1_insight"}
  SEED_1: {url: "...", tier: "tier_4_context"}
  SEED_2: {url: "...", tier: "tier_4_context"}
  SEED_3: {url: "...", tier: "tier_4_context"}

source_audit:
  # Must have ALL six keys, every stage.
  ARCH_BW: {used_for: "...", anchors: ["sec/fig/table identifiers or section titles"]}
  OPT_PIPE: {used_for: "...", anchors: ["..."]}
  NV_BLOG_TILE: {used_for: "...", anchors: ["..."]}
  SEED_1: {used_for: "...", anchors: ["..."]}
  SEED_2: {used_for: "...", anchors: ["..."]}
  SEED_3: {used_for: "...", anchors: ["..."]}

evidence_index:
  # Stage S1: larger; Stage S2: compressed to just what's needed for writing.
  ARCH_BW:
    key_claims:
      - claim: "..."
        support: "..."
        blackwell_relevance: "..."
        confidence: "high|medium|low"
        notes: "..."
    explicit_limitations_or_open_questions:
      - "..."
  # ... repeat for all sources

cross_source_synthesis:
  agreements: ["..."]
  tensions_or_contradictions: ["..."]
  inferred_implications_marked_as_inference: ["..."]

# Only in S2 pack:
gap_map:
  - gap_id: "G1"
    gap_statement: "..."
    why_it_matters: "..."
    evidence_links: ["ARCH_BW: ...", "OPT_PIPE: ..."]
    what_is_missing: "..."
    candidate_research_questions:
      - "RQ1: ..."
      - "RQ2: ..."
    candidate_methodology:
      - "PTX microbenchmarks ..."
      - "Triton-to-TileIR lowering experiments ..."
    evaluation_metrics: ["..."]
    risks_and_mitigations: ["..."]

latex_plan:
  # Fine-grained plan (recommended). Each part MUST cite all 6 sources at least once.
  part_1:
    sections: ["Preamble + title + abstract"]
    must_cite: [ARCH_BW, OPT_PIPE, NV_BLOG_TILE, SEED_1, SEED_2, SEED_3]
  part_2:
    sections: ["Introduction + motivation + problem framing"]
    must_cite: [ARCH_BW, OPT_PIPE, NV_BLOG_TILE, SEED_1, SEED_2, SEED_3]
  part_3:
    sections: ["Background + terminology (Blackwell, CUDA>13, PTX>9, TMEM, TMA, TileIR, SWP/WS, layouts)"]
    must_cite: [ARCH_BW, OPT_PIPE, NV_BLOG_TILE, SEED_1, SEED_2, SEED_3]
  part_4:
    sections: ["Related work (source-by-source + thematic)"]
    must_cite: [ARCH_BW, OPT_PIPE, NV_BLOG_TILE, SEED_1, SEED_2, SEED_3]
  part_5:
    sections: ["Deep technical synthesis → gap argument (include capability→evidence→open-question table)"]
    must_cite: [ARCH_BW, OPT_PIPE, NV_BLOG_TILE, SEED_1, SEED_2, SEED_3]
  part_6:
    sections: ["Research gaps → RQs + hypotheses + expected contributions"]
    must_cite: [ARCH_BW, OPT_PIPE, NV_BLOG_TILE, SEED_1, SEED_2, SEED_3]
  part_7:
    sections: ["Methodology (PTX microbenchmarks; CUDA>13 pipeline experiments; IR experiments; scheduling; layout verification)"]
    must_cite: [ARCH_BW, OPT_PIPE, NV_BLOG_TILE, SEED_1, SEED_2, SEED_3]
  part_8:
    sections: ["Evaluation plan + reproducibility checklist + threats to validity + risks/mitigations"]
    must_cite: [ARCH_BW, OPT_PIPE, NV_BLOG_TILE, SEED_1, SEED_2, SEED_3]
  part_9:
    sections: ["Timeline + conclusion + bibliography + end document"]
    must_cite: [ARCH_BW, OPT_PIPE, NV_BLOG_TILE, SEED_1, SEED_2, SEED_3]
    bibliography_strategy: "thebibliography with \\bibitem keys equal to source IDs"
